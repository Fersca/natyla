<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Natyla - Startup&#39;s Best Friend by Fersca</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Natyla - Startup&#39;s Best Friend</h1>
      <h2 class="project-tagline">Natyla is a Full-Stack REST-API/Cache/Key-Value-Store application to configure and run simple APIs in minutes. Written in Golang, it provides the same functionality as a API multithreaded application running with Memcached and MongoDB.</h2>
      <a href="https://github.com/Fersca/natyla" class="btn">View on GitHub</a>
      <a href="https://github.com/Fersca/natyla/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Fersca/natyla/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p><img src="https://github.com/Fersca/natyla/blob/master/logoNatyla.png?raw=true" alt="alt tag"></p>

<h3>
<a id="need-to-create-an-api-in-3-minutes" class="anchor" href="#need-to-create-an-api-in-3-minutes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Need to create an API in 3 minutes?</h3>

<ul>
<li>Download natyla.</li>
<li>Start it.</li>
<li>POST your information in JSON format.</li>
<li>Share the resource URL.</li>
<li>Done. Be Happy :)</li>
</ul>

<h2>
<a id="install-and-run" class="anchor" href="#install-and-run" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install and Run</h2>

<p>Just clone this repository, install <a href="http://golang.org/">golang</a> and run:</p>

<pre><code>$ go get github.com/Fersca/natyla 
$ cd $GOPATH/src/github.com/Fersca/natyla
$ go run natyla.go
</code></pre>

<p>It will start Natyla with the default configuration:</p>

<ul>
<li>10MB memory cache.</li>
<li>"adminToken" as default token for admin access to PUT/POST/DELETE.</li>
<li>$CURRENT_DIR/data as default directory for storing resources and JSON Objects. </li>
</ul>

<pre><code>Starting Natyla...
Core numbers:  4
Can't found 'config.json' using default parameters
Using Config: map[token:adminToken memory:10485760]
Max memory defined as:  10  Mbytes
Ready.
-------------------------------
</code></pre>

<h2>
<a id="custom-config" class="anchor" href="#custom-config" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom Config</h2>

<p>You can create (or use the example) a config file called config.json, where you can setup a custom configuration.</p>

<pre><code>{
    "token":"customToken",
    "cache":false,
    "memory":10485760,
    "data_dir":"myDir",
    "api_port":"8080",
    "telnet_port":"8081",
    "print_log":true
}
</code></pre>

<h2>
<a id="using-natyla-restful-api" class="anchor" href="#using-natyla-restful-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Natyla RESTful API</h2>

<p>Natyla provides a RESTful API to read, update and store JSON resources.</p>

<h3>
<a id="create-a-resource-post-put" class="anchor" href="#create-a-resource-post-put" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create a resource (POST, PUT)</h3>

<p>To create a resource (a Person), just POST or PUT the JSON object to the specific resource:</p>

<pre><code>curl -X POST localhost:8080/person -d '{"id":123456,"name":"Ferdinand", "age":32,"profession":"engineer"}'
</code></pre>

<p><strong>You Always have to provide an "id" field</strong></p>

<h3>
<a id="read-a-resource-get" class="anchor" href="#read-a-resource-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>Read a resource (GET)</h3>

<p>If you want to read a resource, just call the API with the resource ID:</p>

<pre><code>curl localhost:8080/person/123456
</code></pre>

<p>You will get the Stored JSON:</p>

<pre><code>{"id":123456,"name":"Ferdinand", "age":32,"profession":"engineer"}
</code></pre>

<p>If you are curious, you will notice that Natyla stored the JSON resource under you "data" directory.
The previous example will save the JSON (in plain text) in the following file: </p>

<pre><code>data/person/123456.json
</code></pre>

<h3>
<a id="delete-a-resource-delete" class="anchor" href="#delete-a-resource-delete" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delete a resource (DELETE)</h3>

<p>To delete a resource, just DELETE it indicating the Object ID:</p>

<pre><code>curl -X DELETE localhost:8080/person/123456
</code></pre>

<h3>
<a id="multiget-future" class="anchor" href="#multiget-future" aria-hidden="true"><span class="octicon octicon-link"></span></a>Multiget <strong>(Future)</strong>
</h3>

<p>In the near future you will be able to request several resources at the same time. Eg:</p>

<pre><code>curl localhost:8080/person?ids=123456,789101
</code></pre>

<p>You will receive:</p>

<pre><code>[
  {"id":123456, "name":"Ferdinand", "age":32, "profession":"engineer"},
  {"id":789101, "name":"Norbert",   "age":57, "profession":"engineer"}
]
</code></pre>

<h2>
<a id="searching" class="anchor" href="#searching" aria-hidden="true"><span class="octicon octicon-link"></span></a>Searching</h2>

<p>If you want to search for a particular value in a resource field, you should use the "search" feature from Natyla.</p>

<p>E.g. Assume you have the following "Person" resources:</p>

<pre><code>[
  {"id":123456, "name":"Ferdinand", "age":32, "profession":"engineer"},
  {"id":123456, "name":"Andrea",    "age":26, "profession":"designer"},
  {"id":789012, "name":"Argandas",  "age":25, "profession":"engineer"}
]
</code></pre>

<p>Wich are located on:</p>

<pre><code>localhost:8080/person
</code></pre>

<p>And you want to search for all the "engineers" in the "Person" resource, just call:</p>

<pre><code>curl localhost:8080/person/search?field=profession&amp;equal=engineer
</code></pre>

<p>or</p>

<pre><code>curl localhost:8080/person?profession=engineer
</code></pre>

<p>And you will get an array of resources that satisfies the query:</p>

<pre><code>[
  {"id":123456,"name":"Ferdinand", "age":32,"profession":"engineer"},
  {"id":789012,"name":"Argandas",  "age":25,"profession":"engineer"}
]
</code></pre>

<p>Even you can search multiple fields to refine your search, doing as follow:</p>

<pre><code>curl localhost:8080/person?profession=engineer&amp;age=32
</code></pre>

<p>Will return an array of resources that satisfies the query:</p>

<pre><code>[
  {"id":123456,"name":"Ferdinand", "age":32,"profession":"engineer"}
]
</code></pre>

<p><strong>TODO:</strong>
In the near future you will be able to do "like", "or", "greater than", etc. operations on several fields</p>

<h2>
<a id="caching" class="anchor" href="#caching" aria-hidden="true"><span class="octicon octicon-link"></span></a>Caching</h2>

<p>If you keep the caching enabled (default) Natyla will use a 10MB (default) memory cache to store the most used recources. If you reach the max defined amount of memory, Natyla will only cache the resource metadata (but not the resource content) it prevents (for example) invalid disk access for not previously cached DELETES. To disable cache, just add "cache":false in the config file.</p>

<h2>
<a id="formatting" class="anchor" href="#formatting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formatting</h2>

<p>Natyla provides a pretty printing format if you GET any resource from a browser. It allows you to interact with your API resources in a friendly way :)</p>

<h2>
<a id="notifications" class="anchor" href="#notifications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notifications</h2>

<p><strong>TODO:</strong>
Natyla is not providing a notification system by now, but it will. The idea is the following: If you want to be notified when a resource changes, you will be able to register your callback URL and Natyla will notify you with a JSON POST. The second notification system will able you to listen to a socket stream and receive the same notifications while you are connected to the channel.</p>

<h2>
<a id="telnet-administration" class="anchor" href="#telnet-administration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Telnet Administration</h2>

<p>You can manage Natyla by doing a telnet to port 8081. Just type "help" and you will see how to check the memory usage, interact with the resources, etc.</p>

<h2>
<a id="want-to-help" class="anchor" href="#want-to-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>Want to Help?</h2>

<p><img src="https://github.com/Fersca/natyla/blob/gh-pages/images/go.png?raw=true" alt="alt tag"></p>

<p>Natyla API needs the help of the world best Golang Developers to improve its functionality!!! if you are interested just send a twitter message or start adding code to the repo! just try to follow the project backlog :) Thanks!!</p>

<p><a href="https://github.com/Fersca/natyla/blob/master/Backlog.txt">Backlog</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Fersca/natyla">Natyla - Startup&#39;s Best Friend</a> is maintained by <a href="https://github.com/Fersca">Fersca</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-53201155-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
